import{w as p,r as T}from"./index.qUeddifQ.js";import{g as M,d as S,e as I}from"./scheduler.C-njByJ2.js";const v={message:"Missing Toast Message",autohide:!0,timeout:5e3},w="toastStore";function R(){const o=M(w);if(!o)throw new Error("toastStore is not initialized. Please ensure that `initializeStores()` is invoked in the root layout file of this app!");return o}function _(){const o=z();return S(w,o)}function E(){const o=Math.random();return Number(o).toString(32)}function z(){const{subscribe:o,set:u,update:i}=p([]),a=t=>i(e=>{if(e.length>0){const r=e.findIndex(s=>s.id===t),n=e[r];n&&(n.callback&&n.callback({id:t,status:"closed"}),n.timeoutId&&clearTimeout(n.timeoutId),e.splice(r,1))}return e});function c(t){if(t.autohide===!0)return setTimeout(()=>{a(t.id)},t.timeout)}return{subscribe:o,close:a,trigger:t=>{const e=E();return i(r=>{t&&t.callback&&t.callback({id:e,status:"queued"}),t.hideDismiss&&(t.autohide=!0);const n={...v,...t,id:e};return n.timeoutId=c(n),r.push(n),r}),e},freeze:t=>i(e=>(e.length>0&&clearTimeout(e[t].timeoutId),e)),unfreeze:t=>i(e=>(e.length>0&&(e[t].timeoutId=c(e[t])),e)),clear:()=>u([])}}const f={};function h(o){return o==="local"?localStorage:sessionStorage}function m(o,u,i){const a=JSON,c="local";function t(e,r){h(c).setItem(e,a.stringify(r))}if(!f[o]){const e=p(u,s=>{const d=h(c).getItem(o);d&&s(a.parse(d));{const g=l=>{l.key===o&&s(l.newValue?a.parse(l.newValue):null)};return window.addEventListener("storage",g),()=>window.removeEventListener("storage",g)}}),{subscribe:r,set:n}=e;f[o]={set(s){t(o,s),n(s)},update(s){const d=s(I(e));t(o,d),n(d)},subscribe:r}}return f[o]}m("modeOsPrefers",!1);m("modeUserPrefers",void 0);m("modeCurrent",!1);const b="(prefers-reduced-motion: reduce)";function L(){return window.matchMedia(b).matches}const C=T(L(),o=>{{const u=a=>{o(a.matches)},i=window.matchMedia(b);return i.addEventListener("change",u),()=>{i.removeEventListener("change",u)}}});export{R as g,_ as i,C as p};
